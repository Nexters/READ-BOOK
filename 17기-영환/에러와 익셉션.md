# 에러와 인(익)셉션

영화 인셉션(inception)을 보면 꿈속에 꿈으로 들어가는 장면이 나온다.

익셉션(exception) 을 공부하면서, 계속해서 새끼치듯 뻗어나가는 예외들을 파악하기 위해서 정리를 한다.

> inception
> : **the** [beginning](https://dictionary.cambridge.org/ko/사전/영어/beginning) **of an** organization

</br>

## 이 글을 통해서 정리하고 싶은 것

* 프로그램 그리고 프로그래밍 에서의 **에러** 와 **예외** 의 차이
* 개념적, 문맥적으로 접근하여 공감을 얻어보는 목적 (~~내 생각이 틀리거나, 다른 사람의 의견과 다를 수 있음~~)
* Spring 에서 예외를 처리하는 방식에 대해서는 다루지 않음

</br>

## 주요 키워드

* 오류 (에러)
* 익셉션 (예외) 
* 런타임 예외
* 체크 예외
* 언체크 예외
* 예외 처리
* 어플리케이션 레벨

> 아래 글에서는 익셉션(exception) 을 '예외' 라고 하겠습니다.   

</br>

## 왜 에러와 예외에 관심을 가지게 되었나

자바에서 DAO 관련 작업을 하면서 DB 사용을 위해 커넥션을 맺을 때, `Connection` 오브젝트를 사용 함에 있어 `try - catch` 를 하지 않으면 **컴파일 에러**가 발생한다. 

회원 가입 로직을 구현하면서, 클라이언트로 부터 전달 받은 회원 정보의 유효성을 검사하기 위해서 스스로 예외를 발생시키는 경험을 했다.

`@Autowired` 를 통해서 객체를 생성했는데, 실행하고 나서 사용하려니 객체에 Null 이 저장되어있다고 에러 메시지가 발생했다.

예외를 강제하는 경우, 예외가 필요해서 발생시켜야 하는 경우, 내가 논리적으로 맞다고 생각한 코드에서 발생한 에러를 경험했다. 처음부터 3가지 경우를 구분지어서 생각하게 된 건 아니었고, 공부를 하면서 에러, 예외가 발생하는 경우에 대해서 생각해보게 되었다.

예외를 강제하는 경우에는 IDE 나 예외를 강제하는 클래스에서 `throw` 해주는 예외 클래스를 사용하면 되었지만, 내가 필요해서 발생시키는 경우에는 `Exception` 클래스 말고 다른 처리 방법을 생각하기 어려웠다.

또한 예외를 강제하는 경우에 내가 `if` 문 등으로 해당 예외 상황을 파악해서 따로 처리를 해주기도 어려웠다. (어떤 에러인지 모르고, 공부를 해보니 해결할 수 없는 에러도 있었고)

이렇게 내 손을 떠나는 코드들이 생겨나게 되었다. 이 코드들을 잘 통제 할 수 있으면 에러나 예외가 발생했을 때의 대처나 왜 발생했는지 더 잘 알고 빠르게 대응 할 수 있을 것 같았다.

</br>

## 에러 (오류) / 예외

> 오류를 번역하면 에러 (Error) 다. 

### 프로그램과 개발자 관점에서 

금융 앱을 사용하는데 앱이 실행하자마자 종료되면 우리는 '프로그램에 에러/오류가 발생했다' 라고 표현 할 수 있다. '프로그램에 예외/예외적인 상황이(가) 발생했다' 라고 하지는 않는다.

'프로그램에 에러/오류가 발생했다' 라는 워딩은 프로그램 자체에서 발산되어 나오는 느낌이고,
'프로그램에 예외/예외적인 상황이(가) 발생했다' 라는 워딩은 내가(개발자가) 미리 캐치한 느낌으로 다가온다.

에러/오류의 경우, 프로그램을 인격체로 보면 프로그램이 잘 살아가다가 어떤 문제 (이용자의 급증, 하드웨어의 문제, 데이터 센터 폭발 등) 로 인해 타격을 입은 상황이고, 예외는 개발자가 코드를 짜다가 예외적인 상황을 예측 할 수 있는 상황이라고 생각된다.

에러는 한바퀴 돌려봐야 프로그램이 잘 동작하는지 알 수 있고, 예외는 한바퀴 돌리기 전에 개발자가 파악할 수 있다.

</br>

### 개발을 하면서 맞이하는 에러

물론, 프로그램 자체가 에러를 해결하지는 않는다.

급증한 이용자를 감당하기 위해 인프라를 확장하거나, 프로그래밍적으로 대용량 트레픽을 받아 낼 수 있는 효율적인 코드를 짜는 등으로 에러에 대처할 수 있다.

컴파일 에러 (Compile Error) / 런타임 에러 (Runtime Error) / 논리적인 에러 (Logic Error), 3가지 경우 모두 인적 재해이긴 하지만 컴파일러가, 실행 환경이, 프로그램이 뿜어낸다.

컴파일 에러는 컴파일러가 해석을 못해서, 런타임 에러는 실행 환경이 정상적으로 실행을 못해서, 논리적인 에러는 프로그램이 내 예상과 다르게 동작해서 발생한다. 

</br>

### 그래서 예외는?



﹟[When to use the different log levels](https://stackoverflow.com/questions/2031163/when-to-use-the-different-log-levels)

