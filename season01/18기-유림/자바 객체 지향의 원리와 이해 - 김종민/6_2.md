> p214-231



###### 6. 스프링이 사랑한 디자인 패턴 p214-231

#### 템플릿 메서드 패턴(Template Method Pattern)

객체 지향의 4대 특성 가운데 상속을 통해 동일한 부분 (중복)은 상위 클래스로, 달라지는 부분만 하위 클래스로 분할하게 된다.

상위 클래스는 템플릿(견본)을 제공하는 메서드와 하위 클래스에게 구현을 강제하는 추상 메서드, 하위 클래스가 선택적으로 오버라이딩 할 수 있는 메서드가 있다. 하위 클래스는 상위 클래스에서 구현을 강제하고 있는 추상 메서드를 반드시 구현해야 한다. 

이처럼 상위 클래스에 공통 로직을 수행하는 템플릿 메서드와 하위 클래스에 오버라이딩을 강제하는 추상 메서드 또는 선택적으로 오버라이딩 할 수 있는 훅 메서드를 두는 패턴을 템플릿 메서드 패턴이라고 한다.

"상위 클래스의 견본 메서드에서 하위 클래스가 오버라이딩한 메서드를 호출하는 패턴". 의존 역전 원칙(DIP) 활용.



#### 팩터리 메서드 패턴(Factory Method Pattern)

객체 지향에서 팩터리는 객체를 생성한다. 팩터리 메서드는 객체를 생성 반환하는 메서드를 말한다. 하위 클래스에서 팩터리 메서드를 오버라이딩해서 객체를 반환하게 하는 것을 의미한다.

"오버라이드된 메서드가 객체를 반환하는 패턴". 의존 역전 원칙(DIP) 활용.



#### 전략 패턴(Strategy Pattern)

디자인 패턴의 꽃. 전략 패턴을 구성하는 세 요소를 기억하자.

- 전략 메서드를 가진 전략 객체
- 전략 객체를 사용하는 컨텍스트(전략 객체의 사용자/소비자)
- 전략 객체를 생성해 컨텍스트에 주입하는 클라이언트(제 3자, 전략 객체의 공급자)

템플릿 메서드 패턴과 유사하다. 같은 문제의 해결책으로 상속을 이용하는 템플릿 메서드 패턴과, 객체 주입을 통한 전략 패턴 중에서 선택/적용할 수 있다.

단일 상속만이 가능한 자바 언어에서는 상속이라는 제한이 있는 템플릿 메서드 패턴 보다 전략 패턴이 더 많이 활용된다.

"클라이언트가 전략을 생성해 전략을 실행할 컨텍스트에 주입하는 패턴". 개방 폐쇄 원칙(OCP)과 의존 역전 원칙(DIP)이 적용.



#### 템플릿 콜백 패턴(Template Callback Parttern - 견본/회신 패턴)

전략 패턴의 변형으로, DI(의존성 주입)에서 사용하는 특별한 형태의 전략 패턴이다. 전략 패턴과 모든 것이 동일한데, 전략을 익명 내부 클래스로 정의해서 사용한다는 특징이 있다.

중복되는 부분을 컨텍스트로 이관한다. 스프링은 이렇게 리팩터링된 템플릿 콜백 패턴을 DI에 적극 활용하고 있다.

"전략을 익명 내부 클래스로 구현한 전략 패턴". 전략 패턴과 적용된 원칙이 같음.



#### 이외 패턴들

스프링 MVC의 경우에는 프론트 컨트롤러 패턴(Front Controller Pattern)과 MVC 패턴(Model-View-Controller)을 활용하고 있다.