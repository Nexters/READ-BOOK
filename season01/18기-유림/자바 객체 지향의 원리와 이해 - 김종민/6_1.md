> p199-214



6. ###### 스프링이 사랑한 디자인 패턴 p199-214

스프링 프레임워크란? *"자바 엔터프라이즈 개발을 편하게 해주는 오픈소스 경량급 애플리케이션 프레임워크"* 객체 지향의 특성과 설계 원칙을 극한까지 적용한 프레임워크.



#### 어댑터 패턴(Adapter Pattern)

서로 다른 두 인터페이스 사이에 통신을 가능하게 해 주는 변환기라고 할 수 있다. 

데이터베이스 시스템을 보통 공통의 인터페이스인 ODBC 또는 JDBC를 통해 조작한다. 이것이 바로 어댑터 패턴이며 다양한 시스템을 단일 인터페이스로 조작할 수 있게 해주는 것을 말한다. 플랫폼별 JRE도 어댑터 패턴이라고 할 수 있다. 

개방 폐쇄 원칙(OCP)를 활용한 설계 패턴이다. *"호출당하는 쪽의 메서드를 호출하는 쪽의 코드에 대응하도록 중간에 변환기를 통해 호출하는 패턴"*



#### 프록시 패턴(Proxy Pattern)

대리자. 다른 누군가를 대신해 어떤 역할을 수행한다.

프록시 패턴의 경우 실제 서비스 객체가 가진 메서드와 같은 이름의 메서드를 사용하는데, 이를 위해 인터페이스를 사용한다. 제어의 흐름을 변경하거나 다른 로직을 수행하기 위해 사용한다.

개방 폐쇄 원칙(OCP)과 의존 역전 법칙(DIP)이 적용된 설계 패턴이다.



#### 데코레이터 패턴(Decorator Pattern)

프록시 패턴은 최종적으로 돌려 받는 반환값을 조작하지 않고 그대로 전달하는 반면 데코레이터 패턴은 클라이언트가 받는 반환값에 장식을 덧입힌다.

"메서드 호출의 반환값에 변화를 주기 위해 중간에 장식자를 두는 패턴"

프록시 패턴과 동일한 구조를 갖기에 설계 패턴 구성은 같다.



#### 싱글턴 패턴(Singleton Pattern)

인스턴스를 하나만 만들어 사용하기 위한 패턴이다. 오직 하나만 만들고 그것을 계속해서 재사용한다. 의미상 두 개의 객체가 존재할 수 없다. 

- new를 실행할 수 없도록 생성자에 private 접근 제어자를 지정한다.
- 유일한 단일 객체를 반환할 수 있는 정적 메서드가 필요하다.
- 유일한 단일 객체를 참조할 정적 참조 변수가 필요하다.

단일 객체의 경우 결국 공유 객체로 사용되기 때문에 속성을 갖지 않게 하는 것이 정석이다. 단일 객체가 속성을 갖게 되면 하나의 참조 변수가 변경한 단일 객체의 속성이 다른 참조 변수에 영향을 미치기 때문이다. 이는 전역/공유 변수를 가능한 한 사용하지 말라는 지침과 일맥상통한다. 

다만 읽기 전용 속성은 문제가 되지 않는다. 또, 단일 객체가 다른 단일 객체에 대한 참조를 속성으로 가진 것도 문제가 되지 않는다. 이는 스프링의 싱글턴 빈이 가져야 할 제약조건이기도 하다. 

- private 생성자를 갖는다.
- 단일 객체 참조 변수를 정적 속성으로 갖는다.
- 단일 객체 참조 변수가 참조하는 단일 객체를 반환하는 getInstance() 정적 메서드를 갖는다.
- 단일 객체는 쓰기 가능한 속성을 갖지 않는 것이 정석이다.

*"클래스의 인스턴스, 즉 객체를 하나만 만들어 사용하는 패턴"*