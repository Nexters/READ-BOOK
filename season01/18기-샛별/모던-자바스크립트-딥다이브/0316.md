# 4장. 변수

## 4.1 변수란 무엇인가? 왜 필요한가?

- 자바스크립트 엔진이 자바스크립트 코드를 `evaluation` 하려면 `literal`과 `operator`의 의미를 알고 있어야 하며, `expression`을 `parsing`할 수 있어야 한다.
- 메모리는 데이터를 저장할 수 있는 메모리 셀의 집합체다. 셀 하나의 크기는 1바이트이며 1바이트 단위로 데이터를 write/read 한다.
- 각 셀은 메모리 공간의 위치를 나타내는 고유의 memory address를 갖는다.
- **연산 결과를 재사용**하고 싶다면 어떻게 해야 하는가? 메모리 공간에 **직접 접근**할 것인가? 
*-> 치명적 오류를 발생시킬 수 있는 위험한 일 🔥*
- 프로그래밍 언어는 기억하고 싶은 값을 메모리에 저장하고, 저장된 값을 읽어 들여 재사용하기 위해 **`변수`**라는 메커니즘을 제공한다. → `개발자의 의도를 나타내는 명확한 네이밍이 중요하다!`

## 4.2 식별자 (identifier)

- 식별자란, 어떤 값을 구별해서 **식별할 수 있는 고유한 이름**이다.
    - *변수, 함수, 클래스 등의 이름을 모두 포함한다.*
- 값은 메모리 공간에 저장되어 있고 식별자는 메모리 공간에 저장되어 있는 어떤 값을 구별해서 식별해낼 수 있어야 하므로 식별자는 해당 값의 메모리 주소를 기억해야 한다.
⇒ 식별자는 값이 저장되어 있는 메모리 주소와 mapping 관계를 맺으며 이 정보도 메모리에 저장
⇒ 즉, **식별자는 메모리 주소에 붙인 이름**이라고 할 수 있다.
- 식별자는 **네이밍 규칙**을 준수하고, **선언**에 의해 자바스크립트 엔진에 식별자의 존재를 알린다.

## 4.3 변수 선언 (variable declaration)

- **변수 선언**이란, 메모리 공간을 확보(allocate)하고 변수 이름과 확보된 메모리 공간의 주소를 연결(name binding)해서 값을 저장할 수 있게 준비하는 것이다. 변수 선언에 의해 확보된 메모리 공간은 확보가 해제(release)되기 전까지는 해당 공간을 사용할 수 없도록 보호된다.
- 변수를 사용하려면 반드시 선언이 필요하다. ⇒ `var` | `let` `const`
선언하지 않고 접근하면 `ReferenceError` 가 발생한다.

1. **선언** : 변수 이름을 등록하여 JS 엔진에 변수의 존재를 알림
2. **초기화** : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 `undefined`를 할당하여 초기화
    - var 키워드로 선언한 변수는 암묵적인 초기화가 자동 수행되므로 값을 할당하지 않고 참조했을 때 garbage value가 나오는 위험으로부터 안전하다.

## 4.4 변수 선언의 실행 시점과 변수 호이스팅

- 자바스크립트 엔진은 소스코드를 한 줄씩 실행하기에 앞서 **소스코드의 평가과정**을 거치며 실행 준비를 한다. 이 과정에서 엔진은 변수 선언을 포함한 **모든 선언문을 소스코드에서 찾아내 먼저 실행**한다. 그리고 평가과정이 끝나면 모든 선언문을 제외하고 소스코드를 한 줄씩 실행한다. ⇒ 이러한 것을 **변수 호이스팅(variable hoisting)**이라고 한다.

## 4.5 값의 할당

- 변수에 값을 할당할 때는 할당 연산자 `=` 을 사용한다.
- 변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만 **값의 할당은 소스코드가 순차적으로 실행되는 시점인 런타임에 실행**된다.
- 하나의 문장으로 표현하여도 자바스크립트 엔진은 변수 선언과 값의 할당으로 나누어 실행한다.


## 4.6 값의 재할당

- 재할당이란 **이미 값이 할당되어 있는** 변수에 새로운 값을 또다시 할당하는 것을 말한다.
즉, 현재 변수에 저장된 값을 버리고 새로운 값을 저장하는 것!
- 값을 재할당 할 수 없는 것은 변수가 아니라 **상수(constant)**라 한다.
- 이전 값의 메모리 공간에 새로운 값을 저장하는 것이 아니라, **새로운 메모리 공간을 확보하고 그 메모리 공간에 새로운 값을 저장한다. (처음 값의 할당과 동일)**

- 어떤 식별자와도 연결되어 있지 않다는 것은 더 이상 해당 값들이 필요하지 않다는 것이다.
이러한 불필요한 값들은 **가비지 콜렉터에 의해 메모리에서 자동 해제**된다.

## 4.7 식별자 네이밍 규칙

### 식별자가 따라야 하는 규칙

1. 특수문자를 제외한 문자, 숫자, 언더스코어(_), 달러 기호($)를 포함할 수 있다.
2. 단, 숫자로 시작하는 것은 허용하지 않는다.
3. 예약어(reserved word)는 식별자로 사용할 수 없다. ⇒ SyntaxError 발생
   - ex. `await` `break` `this` `with` `false` `typeof` `enum` 등

- ES5부터 유니코드 문자로 식별자를 만드는 것은 허용되므로 한글도 가능은 하다. 권장 X
- 변수 이름은 변수의 존재 목적을 쉽게 이해할 수 있도록 의미를 명확히 표현해야 한다.
- 네이밍 컨벤션은 식별자를 만들 때 가독성 좋게 구분하기 위해 규정한 명명 규칙이다.

```jsx
var firstName; // camelCase
var first_name; // snake_case
var FirstName; // PascalCase
var strFirstName; // typeHungarianCase
```

- 일반적으로 변수나 함수의 이름에는 카멜 케이스를 사용하고, 생성자 함수나 클래스 이름은 파스칼 케이스를 사용한다.